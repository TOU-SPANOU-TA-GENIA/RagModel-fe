<div class="login-container">
  <div class="prometheus-bg"></div>

  <div class="login-card-wrapper">
    <div class="logo-section">
      <div class="logo-glow">
        <img src="images/prometheus-logo.png" alt="Prometheus" class="logo-image" />
      </div>
      <h1 class="brand-title">PROMETHEUS</h1>
      <p class="brand-tagline">AI Intelligence System</p>
    </div>

    <p-card class="login-card">
      <p-tabs [value]="activeTab()" (valueChange)="onTabChange($event)">
        <p-tablist>
          <p-tab [value]="0">Σύνδεση</p-tab>
          <p-tab [value]="1">Εγγραφή</p-tab>
        </p-tablist>

        <p-tabpanels>
          <!-- Login Panel -->
          <p-tabpanel [value]="0">
            <div class="form-container">
              @if (error()) {
                <p-message severity="error" [text]="error()!" />
              }
              @if (success()) {
                <p-message severity="success" [text]="success()!" />
              }

              <div class="field">
                <label for="login-username">
                  <i class="pi pi-user"></i>
                  Όνομα χρήστη
                </label>
                <input
                  pInputText
                  id="login-username"
                  [(ngModel)]="loginUsername"
                  placeholder="Εισάγετε όνομα χρήστη"
                  [disabled]="loading()"
                />
              </div>

              <div class="field">
                <label for="login-password">
                  <i class="pi pi-lock"></i>
                  Κωδικός
                </label>
                <p-password
                  id="login-password"
                  [(ngModel)]="loginPassword"
                  [feedback]="false"
                  [toggleMask]="true"
                  placeholder="Εισάγετε κωδικό"
                  [disabled]="loading()"
                  styleClass="w-full"
                />
              </div>

              <p-button
                label="Είσοδος"
                icon="pi pi-sign-in"
                (onClick)="onLogin()"
                [loading]="loading()"
                styleClass="w-full login-btn"
              />
            </div>
          </p-tabpanel>

          <!-- Register Panel -->
          <p-tabpanel [value]="1">
            <div class="form-container">
              @if (error()) {
                <p-message severity="error" [text]="error()!" />
              }
              @if (success()) {
                <p-message severity="success" [text]="success()!" />
              }

              <div class="field">
                <label for="register-username">
                  <i class="pi pi-user"></i>
                  Όνομα χρήστη
                </label>
                <input
                  pInputText
                  id="register-username"
                  [(ngModel)]="registerUsername"
                  placeholder="Επιλέξτε όνομα χρήστη"
                  [disabled]="loading()"
                />
              </div>

              <div class="field">
                <label for="register-email">
                  <i class="pi pi-envelope"></i>
                  Email
                </label>
                <input
                  pInputText
                  id="register-email"
                  [(ngModel)]="registerEmail"
                  type="email"
                  placeholder="Εισάγετε email"
                  [disabled]="loading()"
                />
              </div>

              <div class="field">
                <label for="register-password">
                  <i class="pi pi-lock"></i>
                  Κωδικός
                </label>
                <p-password
                  id="register-password"
                  [(ngModel)]="registerPassword"
                  [toggleMask]="true"
                  placeholder="Επιλέξτε κωδικό"
                  [disabled]="loading()"
                  styleClass="w-full"
                />
              </div>

              <div class="field">
                <label for="register-confirm">
                  <i class="pi pi-lock"></i>
                  Επιβεβαίωση κωδικού
                </label>
                <p-password
                  id="register-confirm"
                  [(ngModel)]="registerConfirmPassword"
                  [feedback]="false"
                  [toggleMask]="true"
                  placeholder="Επαναλάβετε τον κωδικό"
                  [disabled]="loading()"
                  styleClass="w-full"
                />
              </div>

              <p-button
                label="Εγγραφή"
                icon="pi pi-user-plus"
                (onClick)="onRegister()"
                [loading]="loading()"
                styleClass="w-full login-btn"
              />
            </div>
          </p-tabpanel>
        </p-tabpanels>
      </p-tabs>
    </p-card>

    <div class="version-info">
      <span>v2.0.0</span>
      <span class="separator">•</span>
      <span>Secure Connection</span>
      <i class="pi pi-shield"></i>
    </div>
  </div>
</div>
